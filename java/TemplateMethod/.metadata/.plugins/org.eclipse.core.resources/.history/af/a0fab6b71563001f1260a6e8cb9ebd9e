package com.template.maven.example.gemini15pro.round1;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import java.time.LocalDateTime;

import static org.junit.jupiter.api.Assertions.*;

class AppointmentTest {

    private String patientName;
    private String doctorName;
    private AppointmentType appointmentType;
    private String madeBy;
    private String clinicContactNumber;
    private LocalDateTime appointmentDateTime;
    private String notes;

    @BeforeEach
    void setUp() {
        patientName = "John Doe";
        doctorName = "Jane Smith";
        appointmentType = AppointmentType.DEVICE_INSTALLATION;
        madeBy = "Patient";
        clinicContactNumber = "123-456-7890";
        appointmentDateTime = LocalDateTime.of(2023, 12, 25, 10, 0);
        notes = "Follow-up appointment needed";
    }

    @Test
    void testAppointmentCreation() {
        Appointment appointment = new Appointment(patientName, doctorName, appointmentType, madeBy,
                clinicContactNumber, appointmentDateTime) {
            protected void setPatientName() {
                this.patientName = patientName;
            }

            protected void setDoctorName() {
                this.doctorName = doctorName;
            }

            protected void setAppointmentType() {
                this.appointmentType = appointmentType;
            }

            protected void setMadeBy() {
                this.madeBy = madeBy;
            }

            protected void setClinicContactNumber() {
                this.clinicContactNumber = clinicContactNumber;
            }

            protected void setAppointmentDateTime() {
                this.appointmentDateTime = appointmentDateTime;
            }
        }.scheduleAppointment();

        assertEquals(patientName, appointment.getPatientName());
        assertEquals(doctorName, appointment.getDoctorName());
        assertEquals(appointmentType, appointment.getAppointmentType());
        assertEquals(madeBy, appointment.getMadeBy());
        assertEquals(clinicContactNumber, appointment.getClinicContactNumber());
        assertEquals(appointmentDateTime, appointment.getAppointmentDateTime());
        assertNull(appointment.getNotes()); 
    }

    @Test
    void testAppointmentWithNotes() {
        Appointment appointment = new Appointment(patientName, doctorName, appointmentType, madeBy,
                clinicContactNumber, appointmentDateTime) {
            protected void setPatientName() {
                this.patientName = patientName;
            }

            protected void setDoctorName() {
                this.doctorName = doctorName;
            }

            protected void setAppointmentType() {
                this.appointmentType = appointmentType;
            }

            protected void setMadeBy() {
                this.madeBy = madeBy;
            }

            protected void setClinicContactNumber() {
                this.clinicContactNumber = clinicContactNumber;
            }

            protected void setAppointmentDateTime() {
                this.appointmentDateTime = appointmentDateTime;
            }

            protected void addNotes() {
                this.notes = notes;
            }
        }.scheduleAppointment();

        assertEquals(notes, appointment.getNotes()); 
    }

    @Test
    void testAllAppointmentTypes() {
        for (AppointmentType type : AppointmentType.values()) {
            Appointment appointment = new Appointment(patientName, doctorName, type, madeBy,
                    clinicContactNumber, appointmentDateTime) {
                protected void setPatientName() {
                    this.patientName = patientName;
                }

                protected void setDoctorName() {
                    this.doctorName = doctorName;
                }

                protected void setAppointmentType() {
                    this.appointmentType = type;
                }

                protected void setMadeBy() {
                    this.madeBy = madeBy;
                }

                protected void setClinicContactNumber() {
                    this.clinicContactNumber = clinicContactNumber;
                }

                protected void setAppointmentDateTime() {
                    this.appointmentDateTime = appointmentDateTime;
                }
            }.scheduleAppointment();

            assertEquals(type, appointment.getAppointmentType());
        }
    }
}