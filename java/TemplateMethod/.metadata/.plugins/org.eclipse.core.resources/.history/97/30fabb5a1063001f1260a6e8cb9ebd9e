package com.template.maven.example.chatgpt.round1;

import static org.junit.jupiter.api.Assertions.assertEquals;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import java.time.LocalDateTime;

public class AppointmentTest {
    private static final String PATIENT_NAME = "John Doe";
    private static final String DOCTOR_NAME = "Dr. Smith";
    private static final AppointmentType APPOINTMENT_TYPE = AppointmentType.MONTHLY_CHECKUP;
    private static final String MAKER_NAME = "Receptionist";
    private static final String CLINIC_CONTACT = "123-456-7890";
    private static final LocalDateTime APPOINTMENT_DATE = LocalDateTime.of(2024, 8, 26, 10, 30);
    private static final String NOTES = "Reminder: Bring previous records.";

    private Appointment appointment;

    @BeforeEach
    public void setUp() {
        AppointmentBuilder builder = new ConcreteAppointmentBuilder(PATIENT_NAME, DOCTOR_NAME, APPOINTMENT_TYPE,
                MAKER_NAME, CLINIC_CONTACT, APPOINTMENT_DATE);
        builder.withNotes(NOTES);
        appointment = builder.build();
    }

    @Test
    public void testAppointmentCreation() {
        assertEquals(PATIENT_NAME, appointment.getPatientName());
        assertEquals(DOCTOR_NAME, appointment.getDoctorName());
        assertEquals(APPOINTMENT_TYPE, appointment.getAppointmentType());
        assertEquals(MAKER_NAME, appointment.getAppointmentMakerName());
        assertEquals(CLINIC_CONTACT, appointment.getClinicContactNumber());
        assertEquals(APPOINTMENT_DATE, appointment.getAppointmentDateTime());
        assertEquals(NOTES, appointment.getNotes());
    }

    @Test
    public void testDifferentAppointmentTypes() {
        for (AppointmentType type : AppointmentType.values()) {
            AppointmentBuilder builder = new ConcreteAppointmentBuilder(PATIENT_NAME, DOCTOR_NAME, type,
                    MAKER_NAME, CLINIC_CONTACT, APPOINTMENT_DATE);
            Appointment appointment = builder.build();
            assertEquals(type, appointment.getAppointmentType());
        }
    }
}
